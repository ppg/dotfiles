<% print("Your Full Name: "); STDOUT.flush; @fullname = STDIN.gets.chomp %>
<% print("Your Email: "); STDOUT.flush; @email = STDIN.gets.chomp %>
<% print("GitHub Username: "); STDOUT.flush; @github_username = STDIN.gets.chomp %>
<%# print("GitHub API Token: "); STDOUT.flush; @github_token = STDIN.gets.chomp %>
[user]
  name = <%= @fullname %>
  email = <%= @email %>
[github]
  user = <%= @github_username %>
  #token = <%= @github_token %>
[credential]
  helper = osxkeychain

[alias]
  st = status -sb
  df = diff
  co = checkout
  ci = commit
  br = branch
  lg = log -p
  lol = log --graph --pretty=oneline --abbrev-commit --decorate
  lola = log --graph --pretty=oneline --abbrev-commit --decorate --all
  <% log_format = '%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' %>
  loln = log --graph --pretty=format:'<%= log_format %>' --abbrev-commit --decorate
  lolan = log --graph --pretty=format:'<%= log_format %>' --abbrev-commit --decorate --all

  # checkout Branch from remote (for when git co <branch_name> won't work
  # because it matches more than one remote branch)
  # checkout Branch
  #   git cobr <remote> <branch_name>
  cobr = "!f() { git fetch $1 $2 && git checkout -b $2 $1/$2; }; f"

  # checkout PR
  #   git copr <remote> <pr#>
  copr = "!f() { git fetch $1 pull/$2/head:pr-$2 && git checkout pr-$2; }; f"

[color]
  diff = auto
  status = auto
  branch = auto

[core]
  editor = /usr/bin/vim
#  autocrlf = true
#  safecrlf = false

<% meld_path = `which meld` %>
<% meld_path = nil if meld_path.empty? %>
<% if meld_path %>
[difftool.meld]
  path = <%= meld_path %>
[mergetool.meld]
  path = <%= meld_path %>
<% end %>

<% diffmerge_path = `which diffmerge` %>
<% diffmerge_path = nil if diffmerge_path.empty? %>
<% if diffmerge_path %>
[difftool.diffmerge]
  path = <%= diffmerge_path %>
[mergetool.diffmerge]
  path = <%= diffmerge_path %>
<% end %>

<% opendiff_path = `which opendiff` %>
<% opendiff_path = nil if opendiff_path.empty? %>
<% if opendiff_path %>
[difftool.opendiff]
  path = <%= opendiff_path %>
[mergetool.opendiff]
  path = <%= opendiff_path %>
<% end %>

<% tool = diffmerge_path ? 'diffmerge' : meld_path ? 'meld' : opendiff_path ? 'opendiff' : nil %>
[diff]
  tool = <%= tool %>
  guitool = <%= tool %>
[merge]
  tool = <%= tool %>
  guitool = <%= tool %>

[sendemail]
  from = Peter P. Gengler <<%= @email %>>
  smtpserver = smtp.gmail.com
  smtpuser = ppgengler@gmail.com
  smtpencryption = tls
  smtpserverport = 587
  chainreplyto = false

[push]
  default = simple

[remote.origin]
  push = HEAD

[branch]
  autosetupmerge = true

[branch "master"]
  mergeoptions = --ff-only

[branch "develop"]
  mergeoptions = --ff-only

